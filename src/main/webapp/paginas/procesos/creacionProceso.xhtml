<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pou="http://primefaces.org/ui">
<ui:composition template="/templates/page-template-proceso.xhtml">
	<ui:define name="contenido">
		<h:form id="formProceso" enctype="multipart/form-data">
			<p:wizard flowListener="#{procesoBean.onFlowProcess}"
				widgetVar="registroP" backLabel="Regresar" nextLabel="Continuar">
				<p:tab id="paso1" title="Información Básica">
					<h1 class="tituloAzul">>>Creación del proceso de Contratación</h1>
					<p:outputPanel styleClass="panel"
						style="border-top: 1px solid #00468C; 
						border-bottom: 1px solid #00468C;margin-bottom: 1em">
						<div align="left">
							<h:outputLabel value="Registro de Proceso de Contratación"
								style="font-size: 10px; font-weight: bold" />
							<br />
							<h:outputLabel value="Para Registrar:"
								style="font-size: 10px; font-weight: bold" />
							<h:outputLabel
								value="Por favor completa la información requerida"
								style="font-size: 10px" />
						</div>
						<br />
						<br />
						<div align="left" style="margin-left: 5em">
							<h:panelGrid columns="3" styleClass="top-aligned-columns"
								cellpadding="5" style="display:block" cellspacing="5">
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Entidad Contratante" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="entidad"
										value="#{loguinIncopBean.cliente.nombres}" size="30"
										required="true" readonly="true"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="entidad" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Razón
										Social de la Entidad Contratante</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Representante Legal" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="repre"
										value="#{loguinIncopBean.cliente.nombres}" size="30"
										required="true" readonly="true"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="repre" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Nombre del
										Representante Legal de la Entidad Contratante</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Código del Proceso" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="codigoProceso"
										value="#{procesoBean.nuevoProceso.codigoProceso}" size="30"
										required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:validator validatorId="codigoValidator" />
									</p:inputText>
									<p:message for="codigoProceso" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Código para control interno de la Entidad Contratante(Ej INCOP-001-2008). Máximo 20 caracteres. "
										style="font-size: 10px" />
									<h:outputLabel
										value="Una vez grabada la información Usted no podrá modificar esta información"
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Objeto del Proceso de Contratación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 7em">
									<p:inputTextarea id="objetoProceso" maxlength="150"
										value="#{procesoBean.nuevoProceso.objetoProceso}"
										required="true" cols="30" rows="3"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="objetoProceso" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 7em">
									<h:outputLabel
										value="Ingresar una breve descripción de los Bienes, Obras, Servicios o Consultoría a contratar. "
										style="font-size: 10px" />
									<h:outputLabel value="Máximo 150 caracteres."
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Descripción del Proceso de Contratación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 7em">
									<p:inputTextarea id="descProceso"
										value="#{procesoBean.nuevoProceso.descripcionProceso}"
										required="true" cols="30" rows="3"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="descProceso" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 7em">
									<h:outputLabel
										value="Ingresar una descripción del proceso administrativo del proyecto. "
										style="font-size: 10px" />
									<h:outputLabel value="Máximo 1000 caracteres."
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Dirección" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="dirPro"
										value="#{procesoBean.nuevoProceso.direccion}" size="40"
										required="true"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="dirPro" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Dirección donde será entregado el Producto Objeto del Contrato (Máximo 300 caracteres)."
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Tipo de compra" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:selectOneMenu id="tipoCompra"
										value="#{procesoBean.nuevoProceso.idTipoCompra.idCatalogoDetalle}"
										style="font-size: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:selectItems value="#{procesoBean.tiposCompra}" var="tipCom"
											itemLabel="#{tipCom.nombre}"
											itemValue="#{tipCom.idCatalogoDetalle}" />
										<p:ajax event="change" update="tipoCompra"
											process="@this tipoCompra" />
									</p:selectOneMenu>
									<p:message for="tipoCompra" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Bienes o Servicios. Obras o Consultoría. "
										style="font-size: 10px" />
									<h:outputLabel
										value="Una vez grabada la información Usted no podrá modificar esta información"
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Palabras Claves" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="palabra"
										value="#{procesoBean.nuevoProceso.palabrasClaves}" size="30"
										required="true"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="palabra" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Palabras claves para facilitar referencias. Separar palabras con comas (Ejem: llantas, neumáticos). 
												   (Máximo 300 caracteres)"
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Tipo de Contratación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:selectOneMenu id="tipoContra"
										value="#{procesoBean.nuevoProceso.idTipoProceso.idCatalogoDetalle}"
										style="font-size: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:selectItems value="#{procesoBean.tiposProceso}"
											var="tipCon" itemLabel="#{tipCon.nombre}"
											itemValue="#{tipCon.idCatalogoDetalle}" />
										<p:ajax event="change" update="tipoContra"
											process="@this tipoContra" />
									</p:selectOneMenu>
									<p:message for="tipoContra" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Selecciona el tipo de proceso según el presupuesto y el tipo de presupuesto ingresado. 
													Para realizar publicaciones de emergencia seleccione la opción "
										style="font-size: 10px" />
									<h:outputLabel value="'Publicar Emergencia' "
										style="font-size: 10px; font-weight: bold" />
									<h:outputLabel value="del menú Entidad Contratante. "
										style="font-size: 10px" />
									<h:outputLabel
										value="Una vez grabada la información Usted no podrá modificar esta información"
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Presupuesto Referencial Total (sin IVA) (USD)" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:inputText id="presu"
										value="#{procesoBean.nuevoProceso.presupuestoReferencial}"
										size="30" required="true"
										validatorMessage="Debe seleccionar el tipo de contratación correcto"
										onkeypress="return aceptarNumerosDecimales(event);"
										requiredMessage="Este campo no puede estar vacío">
										<f:validateDoubleRange
											minimum="#{procesoBean.nuevoProceso.idTipoProceso.idCatalogoDetalle eq 237 ? '6860.14' : '0'}"
											maximum="10000000" />
										<f:convertNumber pattern="#,###,##0.00" />
									</p:inputText>
									<p:message for="presu" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Presupuesto Referencial Total del Proceso de Contratación. No incluye iva. "
										style="font-size: 10px" />
									<h:outputLabel value="Separador de decimales: punto(.)"
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Partida Presupuestaria" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:selectOneMenu id="partida"
										value="#{procesoBean.nuevoProceso.idPartidaPresupuestaria.idCatalogoDetalle}"
										style="font-size: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:selectItems value="#{procesoBean.partidas}" var="part"
											itemLabel="#{part.nombre}"
											itemValue="#{part.idCatalogoDetalle}" />
									</p:selectOneMenu>
									<p:message for="partida" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel
										value="Código de la Partida Presupuestaria correspondiente para este procedimiento de Contratación."
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Forma de Pago" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 7em">
									<h:outputLabel value="Anticipo: " style="font-size: 10px" />
									<p:inputText id="antic"
										value="#{procesoBean.nuevoProceso.anticipo}" size="5"
										required="true" onkeypress="return aceptarNumeros(event);"
										requiredMessage="Este campo no puede estar vacío"
										validatorMessage="El anticipo máximo es del 70%">
										<f:validateLongRange minimum="0"
											maximum="#{(procesoBean.nuevoProceso.idTipoCompra.idCatalogoDetalle eq 243 or procesoBean.nuevoProceso.idTipoCompra.idCatalogoDetalle eq 248) ? '70' : '100'}" />
									</p:inputText>
									<h:outputLabel value="%" style="font-size: 10px" />
									<br />
									<h:outputLabel value="Saldo a: " style="font-size: 10px" />
									<p:selectOneMenu id="saldo"
										value="#{procesoBean.nuevoProceso.idSaldo.idCatalogoDetalle}"
										style="font-size: 10px; margin-top: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:selectItems value="#{procesoBean.saldos}" var="sald"
											itemLabel="#{sald.nombre}"
											itemValue="#{sald.idCatalogoDetalle}" />
									</p:selectOneMenu>
									<p:message for="antic" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 7em">
									<h:outputLabel value="Seleccionar la forma de pago"
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Variación mínima de la oferta durante la puja" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 7em">
									<p:inputText id="varia"
										value="#{procesoBean.nuevoProceso.variacionMinima}" size="5"
										required="true" onkeypress="return aceptarNumeros(event);"
										requiredMessage="Este campo no puede estar vacío" />
									<h:outputLabel value="%" style="font-size: 10px" />
									<p:message for="varia" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 7em">
									<h:outputLabel
										value="Es el valor porcentual de variación de las ofertas durante la Puja, respecto al valor Referencial total"
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Funcionario Encargado del Proceso" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:selectOneMenu id="funcio"
										value="#{procesoBean.nuevoProceso.idEncargadoProceso.idCatalogoDetalle}"
										style="font-size: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<f:selectItems value="#{procesoBean.encargadosProceso}"
											var="enc" itemLabel="#{enc.nombre}"
											itemValue="#{enc.idCatalogoDetalle}" />
									</p:selectOneMenu>
									<p:message for="funcio" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<h:outputLabel value="Contacto para esta solicitud de compra. "
										style="font-size: 10px" />
									<h:outputLabel
										value="Recuerda que los usuarios deben estar registrados 
														  como contactos en la Entidad y deben tener configurado su respectivo correo electrónico"
										style="font-size: 10px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Costos de levantamientos de textos, reproducción y edición de los Pliegos." />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 7em">
									<p:selectOneMenu id="levant"
										value="#{procesoBean.nuevoProceso.costoLevantamiento}"
										style="font-size: 10px" required="true"
										requiredMessage="Este campo no puede estar vacío">
										<p:ajax update=":formProceso:pnlValor" />
										<f:selectItem itemLabel="NO" itemValue="0" />
										<f:selectItem itemLabel="SI" itemValue="1" />
									</p:selectOneMenu>
									<p:message for="levant" />
									<p:outputPanel id="pnlValor">
										<h:outputLabel
											rendered="#{procesoBean.nuevoProceso.costoLevantamiento eq 1}"
											value="Valor: " style="font-size: 10px" />
										<p:inputText id="valorC"
											rendered="#{procesoBean.nuevoProceso.costoLevantamiento eq 1}"
											value="#{procesoBean.nuevoProceso.valor}" size="10"
											required="true"
											onkeypress="return aceptarNumerosDecimales(event);"
											requiredMessage="Este campo no puede estar vacío" />
										<h:outputLabel value="Justificación: "
											rendered="#{procesoBean.nuevoProceso.costoLevantamiento eq 1}"
											style="font-size: 10px; margin-left: 10px" />
										<p:inputText id="justi"
											rendered="#{procesoBean.nuevoProceso.costoLevantamiento eq 1}"
											value="#{procesoBean.nuevoProceso.justificacion}" size="10"
											required="true"
											requiredMessage="Este campo no puede estar vacío" />
									</p:outputPanel>
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 7em">
									<h:outputLabel value="Acorde al " style="font-size: 10px" />
									<h:outputLabel value="Art. 31 de la LOSNCP: "
										style="font-size: 10px; font-weight: bold" />
									<br />
									<h:outputLabel
										value="Exclusivamente el oferente adjudicado, una vez recibida la notificación de adjudicación, pagará a la entidad 
												   el valor previsto en forma previa en los pliegos, y con el cual se cubra exclusivamente los costos de levantamiento 
												   de textos, reproducción y edición de los Pliegos, de ser el caso."
										style="font-size: 10px" />
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
							</h:panelGrid>
							<br />
						</div>
					</p:outputPanel>
				</p:tab>

				<p:tab id="paso2" title="Productos">
					<h1 class="tituloAzul">>>Selección de Producto</h1>
					<p:outputPanel
						style="border-top: 1px solid #00468C; 
						border-bottom: 1px solid #00468C;margin-bottom: 1em">
						<p:messages id="messages" autoUpdate="true" closable="true" />
						<div align="left" style="margin-left: 5em; margin-bottom: 2em">
							<h:outputText value="Presupuesto Referencial: $"
								style="font-size: 18px; font-weight: bold; color: #8A0808" />
							<h:outputText
								value="#{procesoBean.nuevoProceso.presupuestoReferencial}"
								style="font-size: 18px; font-weight: bold; color: #8A0808">
								<f:convertNumber pattern="#,###,##0.00" />
							</h:outputText>
							<br /> <br />
							<p:outputPanel id="pnlLoteSelec" style="background: #EFFBF8">
								<h:panelGrid columns="6">
									<h:outputLabel value="Descripción del lote:"
										style="font-size: 14px;" styleClass="tituloAzul" />
									<p:inputText size="30"
										value="#{procesoBean.loteSeleccionado.descripcion}" />
									<h:outputLabel value="Ingrese el CPC del lote:"
										style="font-size: 14px;" styleClass="tituloAzul" />
									<p:inputText size="30"
										value="#{procesoBean.loteSeleccionado.codigo}" />
									<p:commandLink onclick="PF('dlgCodigos').show();"
										update=":formProductos,:formProceso:pnlLoteSelec"
										immediate="true"
										action="#{procesoBean.inicializarBusquedaLote}">
										<h:graphicImage library="images" name="buscarCodigo.png" />
									</p:commandLink>
									<p:commandLink update=":formProceso:pnlLotesSeleccionados"
										immediate="true"
										action="#{procesoBean.mostrarLoteSeleccionado}">
										<h:graphicImage library="images" name="agregarCodigo.png" />
									</p:commandLink>
								</h:panelGrid>
								<br />
								<p:outputPanel id="pnlLotesSeleccionados">
									<center>
										<h:outputText value="LOTES SELECCIONADOS"
											rendered="#{procesoBean.mostrarLote}" style="font-size: 16px"
											styleClass="tituloAzul" />
									</center>
									<p:outputPanel rendered="#{procesoBean.mostrarLote}"
										style="background: #fff; padding: 0.5em; border: 1px solid #585858"></p:outputPanel>
									<br />
									<h:panelGrid columns="4" rendered="#{procesoBean.mostrarLote}">
										<h:graphicImage library="images" name="error.png" />
										<h:outputText
											value="LOTE 1: #{procesoBean.loteSeleccionado.descripcion}"
											style="font-size: 16px" styleClass="tituloAzul" />
										<p:spacer height="10" width="20" />
										<h:outputText
											value="CPC: #{procesoBean.loteSeleccionado.codigo}"
											style="font-size: 16px" styleClass="tituloAzul" />
									</h:panelGrid>
									<br />
									<p:panelGrid columns="9" rendered="#{procesoBean.mostrarLote}">
										<h:outputText value="GUARDAR" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="MODIFICAR" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="CÓDIGO CPC" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="DESCRIPCIÓN" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="UNIDAD" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="CANTIDAD" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="PRECIO UNITARIO (USD)"
											style="font-size: 11px" styleClass="tituloAzul" />
										<h:outputText value="SUBTOTAL (USD)" style="font-size: 11px"
											styleClass="tituloAzul" />
										<h:outputText value="CARACTERÍSTICAS ADICIONALES"
											style="font-size: 11px" styleClass="tituloAzul" />
										<p:outputPanel id="pnlAgreProd">
											<center>
												<p:commandLink action="#{procesoBean.agregarProducto}"
													disabled="#{procesoBean.editarProductoProceso}"
													update=":formProceso:pnlListaProd, :formProceso:pnlCodProd, 
															:formProceso:pnlDesProd, :formProceso:pnlCantidad, 
															:formProceso:pnlPrecioUni, :formProceso:pnlSubtotal,
															:formProceso:pnlCarac, :formProceso:pnlTotalLotes">
													<h:graphicImage library="images" name="guardarProd.png" />
												</p:commandLink>
											</center>
										</p:outputPanel>
										<p:outputPanel id="pnlEditProd">
											<center>
												<p:commandLink action="#{procesoBean.editarProductoProceso}"
													disabled="#{!procesoBean.editarProductoProceso}"
													update=":formProceso:pnlListaProd, :formProceso:pnlCodProd, 
															:formProceso:pnlDesProd, :formProceso:pnlCantidad, 
															:formProceso:pnlPrecioUni, :formProceso:pnlSubtotal,
															:formProceso:pnlCarac, :formProceso:pnlTotalLotes, 
															:formProceso:pnlAgreProd, :formProceso:pnlEditProd">
													<h:graphicImage library="images" name="editarProd.png" />
												</p:commandLink>
											</center>
										</p:outputPanel>
										<h:panelGrid columns="2">
											<p:outputPanel id="pnlCodProd">
												<p:inputText
													value="#{procesoBean.nuevoProductoProceso.codigo.codigo}" />
											</p:outputPanel>
											<p:commandLink onclick="PF('dlgProducto').show();"
												update=":formProductoHijo" immediate="true">
												<h:graphicImage library="images" name="buscarProducto.png" />
											</p:commandLink>
										</h:panelGrid>
										<p:outputPanel id="pnlDesProd">
											<p:inputText
												value="#{procesoBean.nuevoProductoProceso.codigo.descripcion}"
												size="15" />
										</p:outputPanel>
										<p:selectOneMenu
											value="#{procesoBean.nuevoProductoProceso.idUnidad}">
											<f:selectItem itemLabel="Unidad" itemValue="1" />
										</p:selectOneMenu>
										<p:outputPanel id="pnlCantidad">
											<p:inputText onkeypress="return aceptarNumeros(event);"
												value="#{procesoBean.nuevoProductoProceso.cantidad}"
												size="10">
												<p:ajax event="blur"
													listener="#{procesoBean.calcularSubtotal}"
													update=":formProceso:pnlSubtotal" />
											</p:inputText>
										</p:outputPanel>
										<p:outputPanel id="pnlPrecioUni">
											<p:inputText
												onkeypress="return aceptarNumerosDecimales(event);"
												value="#{procesoBean.nuevoProductoProceso.precioUnitario}"
												size="10">
												<p:ajax event="blur"
													listener="#{procesoBean.calcularSubtotal}"
													update=":formProceso:pnlSubtotal" />
											</p:inputText>
										</p:outputPanel>
										<p:outputPanel id="pnlSubtotal">
											<p:inputText
												onkeypress="return aceptarNumerosDecimales(event);"
												value="#{procesoBean.nuevoProductoProceso.subtotal}"
												size="10" />
										</p:outputPanel>
										<p:outputPanel id="pnlCarac">
											<p:inputText
												value="#{procesoBean.nuevoProductoProceso.caracteristicasAdicionales}"
												size="15" />
										</p:outputPanel>
									</p:panelGrid>
									<br />
									<p:outputPanel id="pnlListaProd">
										<p:dataTable var="produc" rowIndexVar="indice"
											value="#{procesoBean.listaProductosProceso}"
											rendered="#{procesoBean.listaProductosProceso.size() > 0 and procesoBean.mostrarLote}">
											<p:column headerText="No.">
												<h:outputText value="#{indice+1}" />
											</p:column>
											<p:column headerText="GUARDAR">
												<center>
													<p:commandLink disabled="true">
														<h:graphicImage library="images" name="guardarProd.png" />
													</p:commandLink>
												</center>
											</p:column>
											<p:column headerText="MODIFICAR">
												<center>
													<p:commandLink
														action="#{procesoBean.editarProductoProceso(produc)}"
														update=":formProceso:pnlListaProd, :formProceso:pnlCodProd, 
																:formProceso:pnlDesProd, :formProceso:pnlCantidad, 
																:formProceso:pnlPrecioUni, :formProceso:pnlSubtotal,
																:formProceso:pnlCarac, :formProceso:pnlTotalLotes, 
																:formProceso:pnlAgreProd, :formProceso:pnlEditProd">
														<h:graphicImage library="images" name="editarProd.png" />
													</p:commandLink>
												</center>
											</p:column>
											<p:column headerText="ELIMINAR">
												<center>
													<p:commandLink
														action="#{procesoBean.eliminarProductoProceso(produc)}"
														update=":formProceso:pnlListaProd, :formProceso:pnlCodProd, 
																:formProceso:pnlDesProd, :formProceso:pnlCantidad, 
																:formProceso:pnlPrecioUni, :formProceso:pnlSubtotal,
																:formProceso:pnlCarac, :formProceso:pnlTotalLotes">
														<h:graphicImage library="images" name="eliminarProd.png" />
													</p:commandLink>
												</center>
											</p:column>
											<p:column headerText="CÓDIGO CPC">
												<h:outputText value="#{produc.codigo.codigo}" />
											</p:column>
											<p:column headerText="DESCRIPCIÓN">
												<h:outputText value="#{produc.codigo.descripcion}" />
											</p:column>
											<p:column headerText="UNIDAD">
												<h:outputText
													value="#{produc.idUnidad eq 1 ? 'Unidad' : ''}" />
											</p:column>
											<p:column headerText="CANTIDAD">
												<h:outputText value="#{produc.cantidad}" />
											</p:column>
											<p:column headerText="PRECIO UNITARIO (USD)">
												<h:outputText value="#{produc.precioUnitario}" />
											</p:column>
											<p:column headerText="SUBTOTAL (USD)">
												<h:outputText value="#{produc.subtotal}" />
											</p:column>
											<p:column headerText="CARACTERÍSTICAS ADICIONALES">
												<h:outputText value="#{produc.caracteristicasAdicionales}" />
											</p:column>
										</p:dataTable>
									</p:outputPanel>
									<br />
								</p:outputPanel>
								<br />
								<center>
									<p:outputPanel id="pnlTotalLotes">
										<h:outputText value="TOTAL LOTES: $"
											style="font-size: 18px; font-weight: bold; color: #8A0808" />
										<h:outputText value="#{procesoBean.totalLotes}"
											style="font-size: 18px; font-weight: bold; color: #8A0808">
											<f:convertNumber pattern="#,###,##0.00" />
										</h:outputText>
										<br />
										<br />
										<p:outputPanel id="pnlValida">
											<h:outputText
												rendered="#{procesoBean.verificarTotal() ? false : true}"
												value="El total de lotes debe ser igual al presupuesto referencial"
												style="font-size: 12px; font-weight: bold; color: #8A0808" />
										</p:outputPanel>
									</p:outputPanel>
								</center>
							</p:outputPanel>
						</div>

					</p:outputPanel>
				</p:tab>

				<p:tab id="paso3" title="Plazos y Fechas">
					<h1 style="font-size: 14px;" class="tituloAzul">>>Ingreso de
						fechas</h1>
					<p:outputPanel styleClass="panel"
						style="border-top: 1px solid #00468C; 
						border-bottom: 1px solid #00468C;margin-bottom: 1em">
						<div align="left">
							<h:outputLabel value="Proceso de Contratación.- Plazos y Fechas"
								style="color: #6E6E6E; font-size: 12px; font-weight: bold" />
							<br />
							<h:outputLabel value="Para Ingresar las fechas: "
								style="color: #6E6E6E; font-size: 12px; font-weight: bold" />
							<h:outputLabel
								value="Ingrese correctamente las fechas requeridas"
								style="font-size: 12px" />
							<br />
							<h:panelGrid columns="3" styleClass="top-aligned-columns"
								cellpadding="5" style="display:block" cellspacing="5">
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 11px; font-weight: bold"
										value="Vigencia de la oferta" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 4em">
									<h:panelGrid columns="2">
										<p:inputText id="vigencia" value="#{procesoBean.nuevoProceso.vigenciaOferta}" 
												required="true" requiredMessage="Este campo no puede estar vacío" />
										<h:outputLabel style="font-size: 11px;" value="días Límite" />
									</h:panelGrid>
									<p:message for="vigencia" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 4em">
									<p style="text-align: justify; font-size: 0.8em">Días en que la oferta deberá estar vigente. 
										Incluir hasta la suscripción del contrato.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 11px; font-weight: bold"
										value="Plazo de Entrega" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 4em">
									<h:panelGrid columns="2">
										<p:inputText id="plazoEn" value="#{procesoBean.nuevoProceso.plazoEntrega}" 
												required="true" requiredMessage="Este campo no puede estar vacío" />
										<h:outputLabel style="font-size: 11px;" value="días" />
									</h:panelGrid>
									<p:message for="plazoEn" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 4em">
									<p style="text-align: justify; font-size: 0.8em">Días Límite para entrega del objeto del proceso desde la firma del 
									contrato (El valor 'CERO' ejemplifica la entrega inmediata).</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
							</h:panelGrid>
						</div>
						<br />
						<h:outputLabel value="Fechas del Proceso de Contratación"
							styleClass="tituloAzul"
							style="font-size: 12px; font-weight: bold" />
						<br />
						<br />
						<h:outputLabel
							value="#{procesoBean.nuevoProceso.idTipoProceso.nombre} - #{procesoBean.nuevoProceso.idTipoCompra.nombre}"
							styleClass="tituloAzul"
							style="font-size: 12px; font-weight: bold" />
						<br />
						<br />
						<h:outputLabel value="Fecha Actual " styleClass="tituloAzul"
							style="font-size: 12px; font-weight: bold" />
						<p:clock pattern="yyyy-MM-dd HH:mm:ss" />
						<br /><br />
						<center>
							<h:panelGrid columns="3" styleClass="top-aligned-columns"
								cellpadding="5" style="display:block" cellspacing="5">
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="border-top: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha de publicación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaPub" size="30"
										value="#{procesoBean.nuevoProceso.fechaPublicacion}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío">
										<f:validator validatorId="fechaValidator" />
									</p:calendar>
									<p:message for="fechaPub" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Indicar la
										fecha real en la cual desea publicar el Proceso.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite de Preguntas" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaPre" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimitePreguntas}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaPre" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima para solicitar aclaraciones respecto al Proceso de
										Contratación.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite de Respuestas" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaRes" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimiteRespuestas}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaRes" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima para solventar cualquier inquietud relacionada al
										Proceso de Contratación.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite entrega Ofertas" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaEntOf" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimiteEntregaOferta}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaEntOf" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima de entrega Ofertas Técnica.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite solicitar Convalidación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaSolCon" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimiteSolicitarConvalidacion}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaSolCon" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima para que la Entidad notifique los errores de forma en
										las ofertas.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite respuesta Convalidación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaResCon" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimiteRespuestaConvalidacion}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaResCon" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima para respuestas de Convalidación de Errores.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Límite de Calificación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaLimCal" size="30"
										value="#{procesoBean.nuevoProceso.fechaLimiteCalificacion}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaLimCal" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										máxima para calificar a proveedores.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Inicio de Puja" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaInPuja" size="30"
										value="#{procesoBean.nuevoProceso.fechaInicioPuja}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaInPuja" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha en
										que inicia la puja.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Final de Puja" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaFinPuja" size="30"
										value="#{procesoBean.nuevoProceso.fechaFinPuja}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaFinPuja" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha en
										que finaliza la puja.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="top: 0">
									<h:outputLabel style="font-size: 10px; font-weight: bold"
										value="Fecha Estimada de Adjudicación" />
									<p:spacer height="10" width="120" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #E6E6E6; padding: 0.5em; height: 5em">
									<p:calendar id="fechaAdju" size="30"
										value="#{procesoBean.nuevoProceso.fechaEstimadaAdjudicacion}"
										required="true" navigator="true" pattern="yyyy-MM-dd HH:mm:ss"
										showOn="button"
										requiredMessage="Este campo no puede estar vacío" />
									<p:message for="fechaAdju" />
								</p:outputPanel>
								<p:outputPanel
									style="background: #FFFFD9; padding: 0.5em; height: 5em">
									<p style="text-align: justify; font-size: 0.8em">Fecha
										estimada para la Adjudicación de la compra.</p>
								</p:outputPanel>
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:outputPanel style="border-bottom: 1px solid #848484" />
								<p:columnGroup />
								<p:commandButton value="Limpiar Fechas"
									action="#{procesoBean.limpiarFechas}"
									process="@this fechaPub,fechaPre,fechaRes,fechaEntOf,fechaSolCon,fechaResCon,fechaLimCal,fechaInPuja,fechaFinPuja,fechaAdju"
									update="fechaPub,fechaPre,fechaRes,fechaEntOf,fechaSolCon,fechaResCon,fechaLimCal,fechaInPuja,fechaFinPuja,fechaAdju" />
								<p:columnGroup />
							</h:panelGrid>
							<br />
						</center>
					</p:outputPanel>
				</p:tab>

				<p:tab id="paso4" title="Anexos">
					<h1 style="font-size: 14px;" class="tituloAzul">>>Anexos</h1>
					<p:outputPanel
						style="border-top: 1px solid #00468C; width: 100%; 
						border-bottom: 1px solid #00468C;margin-bottom: 1em">
						<div align="left" style="margin-left: 5em">
							<div align="left">
								<h:outputLabel
									value="Proceso de Contratación.- Archivos Adjuntos"
									style="color: #6E6E6E; font-size: 12px; font-weight: bold" />
								<br />
								<h:outputLabel value="Para Adjuntar: "
									style="color: #6E6E6E; font-size: 12px; font-weight: bold" />
								<h:outputLabel value="Subir Archivos Obligatorios al Proceso"
									style="font-size: 12px" />
							</div>
							<br />
							<h:outputLabel
								value="NOTA: Solo se permiten archivos con extensión: pdf,doc,docx,xls,xlsx,odt,ods,zip,rar,xml,txt,tif,tiff,jpg,
										   jpeg,png,gif,gz,tar,bz2,dwg"
								styleClass="tituloAzul"
								style="font-size: 12px; font-weight: bold" />
							<br /> <br />
							<h:outputLabel
								value="El límite máximo para subir documentos anexos es de 10Mb por archivo"
								style="font-size: 12px; font-weight: bold; color: red" />
							<br /> <br />
							<p:outputPanel style="background: #E6E6E6">
								<h:outputLabel value="Archivos Obligatorios"
									styleClass="tituloAzul"
									style="font-size: 13px; font-weight: bold" />
							</p:outputPanel>
							<p:outputPanel
								style="border: 1px solid #00468C; width: 90%;margin-bottom: 1em; margin-rigth: 4em; padding: 0.5em">
								<p:outputPanel style="background: #E6E6E6">
									<h:outputLabel
										value=".::ARCHIVO QUE CONTIENE LOS PLIEGOS DEL PROCESO"
										styleClass="tituloAzul"
										style="font-size: 12px; font-weight: bold" />
								</p:outputPanel>
								<p:outputPanel style="background: #FFFFD9">
									<h:outputLabel value="Extensiones permitidas: "
										style="font-size: 12px; font-weight: bold" />
									<h:outputLabel
										value="pdf,doc,docx,xls,xlsx,odt,ods,zip,rar,xml,txt,tif,tiff,jpg,
										   jpeg,png,gif,gz,tar,bz2,dwg"
										style="font-size: 12px" />
								</p:outputPanel>
								<h:panelGrid columns="4">
									<h:outputText value="Descripción: " />
									<p:inputText size="35" id="descPliego"
										value="#{procesoBean.nuevoArchivoProceso.descripcion}" />
									<p:fileUpload value="#{procesoBean.file}" mode="simple"
										skinSimple="true" id="filePli" />
									<p:commandButton value="Subir" ajax="false"
										update=":formProceso:pnlArchivos"
										process="@this descPliego, filePli"
										actionListener="#{procesoBean.upload}" />
								</h:panelGrid>
								<br />
								<p:outputPanel id="pnlArchivos">
									<p:dataTable var="archivo" rowIndexVar="indice"
										value="#{procesoBean.listaArchivosProceso}"
										rendered="#{procesoBean.listaArchivosProceso.size() > 0}">
										<p:column headerText="NRO.">
											<h:outputText value="#{indice+1}" />
										</p:column>
										<p:column headerText="DESCRIPCIÓN">
											<h:outputText value="#{archivo.descripcion}" />
										</p:column>
										<p:column headerText="NOMBRE DEL ARCHIVO">
											<h:outputText value="#{archivo.nombreArchivo}" />
										</p:column>
										<p:column headerText="FECHA REGISTRO">
											<h:outputText value="#{archivo.fechaRegistro}">
												<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" />
											</h:outputText>
										</p:column>
										<p:column headerText="ELIMINAR">
											<p:commandLink value="Eliminar"
												action="#{procesoBean.quitarArchivo(archivo)}"
												update=":formProceso:pnlArchivos"
												process="@this :formProceso:pnlArchivos">
											</p:commandLink>
										</p:column>
									</p:dataTable>
								</p:outputPanel>
							</p:outputPanel>
							<br />
							<p:outputPanel style="background: #E6E6E6">
								<h:outputLabel value=".::ARCHIVO OPCIONAL"
									styleClass="tituloAzul"
									style="font-size: 12px; font-weight: bold" />
							</p:outputPanel>
							<p:outputPanel style="background: #FFFFD9">
								<h:outputLabel value="Extensiones permitidas: "
									style="font-size: 12px; font-weight: bold" />
								<h:outputLabel
									value="pdf,doc,docx,xls,xlsx,odt,ods,zip,rar,xml,txt,tif,tiff,jpg,
										   jpeg,png,gif,gz,tar,bz2,dwg"
									style="font-size: 12px" />
							</p:outputPanel>
							<br />
							<h:panelGrid columns="4">
								<h:outputText value="Descripción: " />
								<p:inputText size="35" id="descOpcional"
									value="#{procesoBean.nuevoArchivoProcesoOpcional.descripcion}" />
								<p:fileUpload id="fileOpc" value="#{procesoBean.fileOpcional}"
									mode="simple" skinSimple="true" />
								<p:commandButton value="Subir" ajax="false"
									update=":formProceso:pnlArchivosOpc"
									process="@this descOpcional, fileOpc"
									actionListener="#{procesoBean.uploadOpcional}" />
							</h:panelGrid>
							<br /> <br />
							<p:outputPanel id="pnlArchivosOpc">
								<p:dataTable var="archivoOpc" rowIndexVar="indice"
									value="#{procesoBean.listaArchivosProcesoOpcional}"
									rendered="#{procesoBean.listaArchivosProcesoOpcional.size() > 0}">
									<p:column headerText="NRO.">
										<h:outputText value="#{indice+1}" />
									</p:column>
									<p:column headerText="DESCRIPCIÓN">
										<h:outputText value="#{archivoOpc.descripcion}" />
									</p:column>
									<p:column headerText="NOMBRE DEL ARCHIVO">
										<h:outputText value="#{archivoOpc.nombreArchivo}" />
									</p:column>
									<p:column headerText="FECHA REGISTRO">
										<h:outputText value="#{archivoOpc.fechaRegistro}">
											<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" />
										</h:outputText>
									</p:column>
									<p:column headerText="ELIMINAR">
										<p:commandLink value="Eliminar"
											action="#{procesoBean.quitarArchivoOpcional(archivoOpc)}"
											update=":formProceso:pnlArchivosOpc"
											process="@this :formProceso:pnlArchivosOpc">
										</p:commandLink>
									</p:column>
								</p:dataTable>
							</p:outputPanel>
							<br /> <br /> <br />
						</div>
						<p:commandButton value="Finalizar"
							action="#{procesoBean.finalizarProceso}" />
						<br />
						<p:messages id="messagesPr" autoUpdate="true" closable="true" />
					</p:outputPanel>
				</p:tab>
				<br />
			</p:wizard>
		</h:form>
		<p:dialog id="dlgCod" widgetVar="dlgCodigos"
			header="Selección de Producto" width="800" height="500px"
			resizable="false" showEffect="explode" hideEffect="bounce"
			position="center top">
			<h:form id="formProductos">
				<p:ajaxStatus onstart="statusDialog.show();"
					onsuccess="statusDialog.hide();" />
				<p:dialog modal="true" widgetVar="statusDialog" header="Espere"
					resizable="false" draggable="false" closable="false">
					<p:graphicImage value="/resources/images/ajaxloadingbar.gif" />
				</p:dialog>
				<p:scrollPanel mode="native" style="width:780px;height:500px">
					<div align="left">
						<br />
						<h:outputLabel style="font-weight: bold"
							value="MODO DE USO: Para comenzar usted puede ingresar una palabra clave o Código y se le mostrarán las categorías de productos existentes, marque la que desea agregar." />
						<br /> <br />
						<p:outputPanel style="background: #F5F6CE; padding: 1em">
							<h:panelGrid columns="7">
								<h:outputLabel value="Palabra Clave:" style="font-size: 11px;" />
								<p:inputText size="30" value="#{procesoBean.palabraclave}" />
								<p:commandButton update=":formProductos:pnlCodigosPadres"
									value="Buscar" action="#{procesoBean.buscarPorPalabraClave}" />
								<p:spacer height="10" width="15" />
								<h:outputLabel value="Código:" style="font-size: 11px;" />
								<p:inputText size="30" value="#{procesoBean.codigoDeLote}" />
								<p:commandButton update=":formProductos:pnlCodigosPadres"
									value="Buscar" action="#{procesoBean.buscarPorCodigoLote}" />
							</h:panelGrid>
						</p:outputPanel>
						<br /> <br />
						<p:outputPanel id="pnlCodigosPadres">
							<p:dataTable var="codigo" selectionMode="single"
								selection="#{procesoBean.loteSeleccionado}"
								rowKey="#{codigo.codigo}"
								value="#{procesoBean.listadoCodigosPadres}"
								rendered="#{procesoBean.listadoCodigosPadres.size() > 0}">
								<p:ajax event="rowSelect" oncomplete="PF('dlgCodigos').hide();"
									listener="#{procesoBean.seleccionarLote}"
									update=":formProceso:pnlLoteSelec" />
								<p:column>
									<h:outputText styleClass="tituloAzul" style="font-size: 11px"
										value="[#{codigo.codigo}] #{codigo.descripcion}" />
									<br />
									<p:dataTable var="codigoHijo"
										value="#{codigo.codigosSercopList}"
										rendered="#{codigo.codigosSercopList.size() > 0}">
										<p:column>
											<h:outputText style="font-size: 11px"
												value="[#{codigoHijo.codigo}] #{codigoHijo.descripcion}" />
											<br />
											<p:dataTable var="codigoHijo1"
												value="#{codigoHijo.codigosSercopList}"
												rendered="#{codigoHijo.codigosSercopList.size() > 0}">
												<p:column>
													<h:outputText style="font-size: 11px"
														value="[#{codigoHijo1.codigo}] #{codigoHijo1.descripcion}" />
													<br />
													<p:dataTable var="codigoHijo2"
														value="#{codigoHijo1.codigosSercopList}"
														rendered="#{codigoHijo1.codigosSercopList.size() > 0}">
														<p:column>
															<h:outputText style="font-size: 11px"
																value="[#{codigoHijo2.codigo}] #{codigoHijo2.descripcion}" />
															<br />
															<p:dataTable var="codigoHijo3"
																value="#{codigoHijo2.codigosSercopList}"
																rendered="#{codigoHijo2.codigosSercopList.size() > 0}">
																<p:column>
																	<h:outputText style="font-size: 11px"
																		value="[#{codigoHijo3.codigo}] #{codigoHijo3.descripcion}" />
																	<br />
																	<p:dataTable var="codigoHijo4"
																		value="#{codigoHijo3.codigosSercopList}"
																		rendered="#{codigoHijo3.codigosSercopList.size() > 0}">
																		<p:column>
																			<h:outputText style="font-size: 11px"
																				value="[#{codigoHijo4.codigo}] #{codigoHijo4.descripcion}" />
																			<br />
																			<p:dataTable var="codigoHijo5"
																				value="#{codigoHijo4.codigosSercopList}"
																				rendered="#{codigoHijo4.codigosSercopList.size() > 0}">
																				<p:column>
																					<h:outputText style="font-size: 11px"
																						value="[#{codigoHijo5.codigo}] #{codigoHijo5.descripcion}" />
																				</p:column>
																			</p:dataTable>
																		</p:column>
																	</p:dataTable>
																</p:column>
															</p:dataTable>
														</p:column>
													</p:dataTable>
												</p:column>
											</p:dataTable>
										</p:column>
									</p:dataTable>
								</p:column>
							</p:dataTable>
						</p:outputPanel>
					</div>
				</p:scrollPanel>
			</h:form>
		</p:dialog>
		<p:dialog id="dlgProd" widgetVar="dlgProducto"
			header="Selección de Producto" width="800" height="500px"
			resizable="false" showEffect="explode" hideEffect="bounce"
			position="center top">
			<h:form id="formProductoHijo">
				<p:scrollPanel mode="native" style="width:780px;height:500px">
					<div align="left">
						<h:outputLabel styleClass="tituloAzul" style="font-size: 12px"
							value="CPC Lote elegido: #{procesoBean.loteSeleccionado.codigo}" />
						<br />
						<p:outputPanel style="background: #A9F5E1; padding: 1em">
							<h:panelGrid columns="2">
								<p:graphicImage style="margin-right: 20px" library="images"
									name="aviso.png" />
								<h:outputLabel styleClass="textoAzul12;"
									value="MODO DE USO: A continuación se presentan las categorías de productos existentes, 
										   marque el producto que desea agregar." />
							</h:panelGrid>
						</p:outputPanel>
						<br />
						<p:outputPanel id="pnlCodigosHijos">
							<p:dataTable var="codigo"
								value="#{procesoBean.listaCodigosHijos}"
								rendered="#{procesoBean.listaCodigosHijos.size() > 0}">
								<p:column style="background: #F2F2F2">
									<h:outputText styleClass="tituloAzul" style="font-size: 11px;"
										value=".:[#{codigo.codigo}] #{codigo.descripcion}" />
									<br />
									<p:dataTable var="codigoHijo" selectionMode="single"
										selection="#{procesoBean.productoSeleccionado}"
										rowKey="#{codigoHijo.codigo}"
										value="#{codigo.codigosSercopList}"
										rendered="#{codigo.codigosSercopList.size() > 0}">
										<p:ajax event="rowSelect"
											oncomplete="PF('dlgProducto').hide();"
											listener="#{procesoBean.seleccionarProducto}"
											update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
										<p:column>
											<h:outputText style="font-size: 11px"
												value="[#{codigoHijo.codigo}] #{codigoHijo.descripcion}" />
											<br />
											<p:dataTable var="codigoHijo1" selectionMode="single"
												selection="#{procesoBean.productoSeleccionado}"
												rowKey="#{codigoHijo1.codigo}"
												value="#{codigoHijo.codigosSercopList}"
												rendered="#{codigoHijo.codigosSercopList.size() > 0}">
												<p:ajax event="rowSelect"
													oncomplete="PF('dlgProducto').hide();"
													listener="#{procesoBean.seleccionarProducto}"
													update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
												<p:column>
													<h:outputText style="font-size: 11px"
														value="[#{codigoHijo1.codigo}] #{codigoHijo1.descripcion}" />
													<br />
													<p:dataTable var="codigoHijo2" selectionMode="single"
														selection="#{procesoBean.productoSeleccionado}"
														rowKey="#{codigoHijo2.codigo}"
														value="#{codigoHijo1.codigosSercopList}"
														rendered="#{codigoHijo1.codigosSercopList.size() > 0}">
														<p:ajax event="rowSelect"
															oncomplete="PF('dlgProducto').hide();"
															listener="#{procesoBean.seleccionarProducto}"
															update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
														<p:column>
															<h:outputText style="font-size: 11px"
																value="[#{codigoHijo2.codigo}] #{codigoHijo2.descripcion}" />
															<br />
															<p:dataTable var="codigoHijo3" selectionMode="single"
																selection="#{procesoBean.productoSeleccionado}"
																rowKey="#{codigoHijo3.codigo}"
																value="#{codigoHijo2.codigosSercopList}"
																rendered="#{codigoHijo2.codigosSercopList.size() > 0}">
																<p:ajax event="rowSelect"
																	oncomplete="PF('dlgProducto').hide();"
																	listener="#{procesoBean.seleccionarProducto}"
																	update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
																<p:column>
																	<h:outputText style="font-size: 11px"
																		value="[#{codigoHijo3.codigo}] #{codigoHijo3.descripcion}" />
																	<br />
																	<p:dataTable var="codigoHijo4" selectionMode="single"
																		selection="#{procesoBean.productoSeleccionado}"
																		rowKey="#{codigoHijo4.codigo}"
																		value="#{codigoHijo3.codigosSercopList}"
																		rendered="#{codigoHijo3.codigosSercopList.size() > 0}">
																		<p:ajax event="rowSelect"
																			oncomplete="PF('dlgProducto').hide();"
																			listener="#{procesoBean.seleccionarProducto}"
																			update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
																		<p:column>
																			<h:outputText style="font-size: 11px"
																				value="[#{codigoHijo4.codigo}] #{codigoHijo4.descripcion}" />
																			<br />
																			<p:dataTable var="codigoHijo5" selectionMode="single"
																				selection="#{procesoBean.productoSeleccionado}"
																				rowKey="#{codigoHijo5.codigo}"
																				value="#{codigoHijo4.codigosSercopList}"
																				rendered="#{codigoHijo4.codigosSercopList.size() > 0}">
																				<p:ajax event="rowSelect"
																					oncomplete="PF('dlgProducto').hide();"
																					listener="#{procesoBean.seleccionarProducto}"
																					update=":formProceso:pnlCodProd,:formProceso:pnlDesProd" />
																				<p:column>
																					<h:outputText style="font-size: 11px"
																						value="[#{codigoHijo5.codigo}] #{codigoHijo5.descripcion}" />
																				</p:column>
																			</p:dataTable>
																		</p:column>
																	</p:dataTable>
																</p:column>
															</p:dataTable>
														</p:column>
													</p:dataTable>
												</p:column>
											</p:dataTable>
										</p:column>
									</p:dataTable>
								</p:column>
							</p:dataTable>
						</p:outputPanel>
					</div>
				</p:scrollPanel>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>
</html>